!function(){"use strict";var t={475:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.command=void 0;var i=n(711),s=a(n(808));e.command=new i.Command({use:"net-client",short:"net echo client example",prepare:function(t,e){var n=t.string({name:"addr",short:"a",usage:"dial address",default:":9000"}),r=t.string({name:"network",usage:"network",values:["tcp","tcp4","tcp6","unix"],default:"tcp"}),o=t.number({name:"count",short:"c",usage:"send message count",default:10}),a=t.number({name:"timeout",usage:"connect timeout",default:1e3});return function(){var t,e,i=a.value;Number.isSafeInteger(i)&&i>1&&(t=new s.AbortController,e=setTimeout((function(){t.abort("dial timeout")}),i)),s.dial({network:r.value,address:n.value,signal:null==t?void 0:t.signal},(function(t,n){e&&clearTimeout(e),t?(console.log("connect success: ".concat(t.localAddr," -> ").concat(t.remoteAddr)),t.onError=function(t){console.log("err:",t)},new c(t,o.value).next()):console.log("connect error:",n)}))}}});var c=function(){function t(t,e){var n=this;this.c=t,this.count=e,this.step_=0,this.serve(),t.onWritable=function(){var e=n.data_;if(e)try{t.write(e)}catch(e){console.log("write error",e),t.close()}n.serve()}}return t.prototype.serve=function(){var t=this,e=this.c;e.onMessage=function(n){var r=t.data_;return r?ejs.equal(n,r)?(console.log("recv:",(new TextDecoder).decode(n),n),t.data_=void 0,void t.next()):(console.log("not matched message:",r,n),void e.close()):(console.log("unexpected message:",n),void e.close())}},t.prototype.next=function(){if(this.step_>=this.count)return this.c.close(),void console.log("completed");try{this.step_++,this.data_=(new TextEncoder).encode("這個第 ".concat(this.step_," 個 message")),void 0===this.c.write(this.data_)&&(this.c.onMessage=void 0)}catch(t){console.log("write error",t),this.c.close()}},t}()},535:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.command=void 0;var i=n(711),s=a(n(808));e.command=new i.Command({use:"net-server",short:"net echo server example",prepare:function(t,e){var n=t.string({name:"addr",short:"a",usage:"listen address",default:":9000"}),r=t.string({name:"network",usage:"network",values:["tcp","tcp4","tcp6","unix"],default:"tcp"}),o=t.number({name:"count",short:"c",usage:"max service count",default:-1}),a=t.bool({name:"sync",usage:"sync listener",default:!1}),i=t.number({name:"backlog",usage:"accept backlog",default:5});return function(){var t=s.listen({network:r.value,address:n.value,sync:a.value,backlog:i.value});a.value?console.log("sync listen: ".concat(t.addr)):console.log("listen: ".concat(t.addr)),t.onError=function(t){console.log("accept err:",t)};var e=o.value,u=0;t.onAccept=function(n){!function(t){console.log("one in: ".concat(t.remoteAddr)),t.onError=function(t){console.log("one out",t)},new c(t).serve()}(n),e>0&&++u>=e&&t.close()}}}});var c=function(){function t(t){var e=this;this.c=t,this.length_=0,t.onWritable=function(){var n=e.data_,r=e.length_;if(n&&r)try{t.write(n.subarray(0,r))}catch(e){console.log("write error",e),t.close()}e.serve()}}return t.prototype.serve=function(){var t=this,e=this.c;e.onMessage=function(n){try{if(console.log("recv ".concat(e.remoteAddr,":"),n),void 0===e.write(n)){e.onMessage=void 0;var r=t.data_;(!r||r.length<n.length)&&(r=new Uint8Array(n.length),t.data_=r),r.set(n),t.length_=n.length}}catch(t){console.log("write error",t),e.close()}}},t}()},255:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.command=void 0;var r=n(711);e.command=new r.Command({use:"timer",short:"timer example",run:function(){setTimeout((function(){var t=0,e=setInterval((function(){if(console.log("interval_0",t++),5==t){clearInterval(e),e=setInterval((function(){console.log("interval_1",t++)}),1e3);var n=setTimeout((function(){console.log("nerver")}),1e4);setTimeout((function(){console.log("end")}),6e3),setTimeout((function(){clearInterval(e),clearTimeout(n)}),5500)}}),0)}),0)}})},519:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.command=void 0;var i=n(711),s=a(n(808));e.command=new i.Command({use:"udp-client",short:"udp echo client example",prepare:function(t,e){var n=t.string({name:"addr",short:"a",usage:"dial address",default:":9000"}),r=t.string({name:"network",usage:"network",values:["udp","udp4","udp6"],default:"udp"}),o=t.number({name:"count",short:"c",usage:"send message count",default:10}),a=t.number({name:"timeout",usage:"connect timeout",default:1e3});return function(){var t,e,i=a.value;Number.isSafeInteger(i)&&i>1&&(t=new s.AbortController,e=setTimeout((function(){t.abort("dial timeout")}),i)),s.UdpConn.dialHost({network:r.value,address:n.value,signal:null==t?void 0:t.signal},(function(t,n){e&&clearTimeout(e),t?(console.log("connect success: ".concat(t.localAddr," -> ").concat(t.remoteAddr)),new c(t,o.value).next()):console.log("connect error:",n)}))}}});var c=function(){function t(t,e){this.c=t,this.count=e,this.step_=0,this.serve()}return t.prototype.serve=function(){var t=this,e=this.c;e.onMessage=function(n){var r=t.data_;return r?ejs.equal(n,r)?(console.log("recv:",(new TextDecoder).decode(n),n),t.data_=void 0,void t.next()):(console.log("not matched message:",r,n),void e.close()):(console.log("unexpected message:",n),void e.close())}},t.prototype.next=function(){if(this.step_>=this.count)return this.c.close(),void console.log("completed");try{this.step_++,this.data_=(new TextEncoder).encode("這個第 ".concat(this.step_," 個 message")),this.c.write(this.data_)}catch(t){console.log("write error",t),this.c.close()}},t}()},403:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.command=void 0;var i=n(711),s=a(n(808));e.command=new i.Command({use:"udp-server",short:"udp echo server example",prepare:function(t,e){var n=t.string({name:"addr",short:"a",usage:"listen address",default:":9000"}),r=t.string({name:"network",usage:"network",values:["udp","udp4","udp6"],default:"udp"}),o=t.number({name:"count",short:"c",usage:"max service count",default:-1});return function(){var t=s.UdpConn.listen({network:r.value,address:n.value});console.log("listen: ".concat(t.localAddr));var e=o.value,a=0,i=new Uint8Array(32768),c=new s.UdpAddr;t.onReadable=function(n){var r=n.read(i,c),o=i.subarray(0,r);console.log("recv ".concat(c,":"),o),t.writeTo(o,c),e>0&&++a>=e&&t.close()}}}})},711:function(t,e){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=e.FlagBooleans=e.FlagBoolean=e.FlagBigints=e.FlagBigint=e.FlagNumbers=e.FlagNumber=e.FlagStrings=e.FlagString=e.FlagBase=e.Flags=e.Command=e.FlagsException=void 0;var s=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e}(Error);e.FlagsException=s;var c=new RegExp(/^[a-zA-Z][a-zA-Z0-9\-_\.]*$/),u=new RegExp(/^[a-zA-Z0-9]$/);function l(t){if(1!=t.length)return!1;var e=t.codePointAt(0);return void 0!==e&&e<128&&e>0}function f(t,e){return t==e?0:t<e?-1:1}var d=function(){function t(t){if(this.opts=t,this.args=new Array,!c.test(t.use))throw new s("use invalid: ".concat(t.use));var e=t.short;if(void 0!==e&&-1!=e.indexOf("\n"))throw new s("short invalid: ".concat(e));this.flags_=p.make(this)}return t.prototype.add=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(0!=n.length){var a=this.children_;a||(a=new Map,this.children_=a);try{for(var i=o(n),c=i.next();!c.done;c=i.next()){var u=c.value;if(u.parent_)throw new s('command "'.concat(u.opts.use,'" already added to "').concat(u.parent_.flags().use,'"'));var l=u.opts;if(l.prepare){var f=l.prepare(u.flags(),u);f&&(l.run=f)}var d=l.use;if(a.has(d))throw new s('command "'.concat(d,'" already exists'));u.parent_=this,u.flags(),a.set(d,u)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}}},t.prototype.flags=function(){return this.flags_},t.prototype.parse=function(t,e){void 0===e&&(e={}),this._parse(t,0,t.length,e)},t.prototype._parse=function(t,e,n,r){this.args.splice(0);var o=this.flags();if(o.reset(),n-e<1){var a=this.opts.run;a&&a(this.args,this)}else{for(var i=this.children_,c=e;c<n;c++){var u=t[c];if("-"==u||"--"==u){if(r.unknowFlags)continue;throw new s("unknown flag in ".concat(o.use,": ").concat(u))}if(u.startsWith("-")){if("-h"==u)return void this._print();var l=c+1<n?t[c+1]:void 0;if(u.startsWith("--")){if("--help"==u){if(-1==(d=this._parseHelp(o,"--help",l)))return void this._print();c+=d;continue}c+=this._parseLong(o,u.substring(2),l,r)}else{if("-h"==u){var f=this._parseHelp(o,"-h",l);if(-1==f)return void this._print();c+=f;continue}var d;if(-1==(d=this._parseShort(o,u.substring(1),l,r)))return void this._print();c+=d}}else{if(i){var p=i.get(u);if(p)return void p._parse(t,c+1,n,r);if(r.unknowCommand)return;throw new s("unknow commnad <"+u+">")}this.args.push(u)}}var v=this.opts.run;v&&v(this.args,this)}},t.prototype._throw=function(t,e,n,r){if(void 0===r&&!e.isBool())throw new s("flag in ".concat(t.use," needs an argument: ").concat(n));throw r=void 0===r?"":" ".concat(r),new s("invalid flag value in ".concat(t.use,": ").concat(n).concat(r))},t.prototype._parseHelp=function(t,e,n){if(void 0===n||"true"===n)return-1;if("false"===n)return 1;if(void 0===n)throw new s("flag in ".concat(t.use," needs an argument: ").concat(e));throw n=void 0===n?"":" ".concat(n),new s("invalid flag value in ".concat(t.use,": ").concat(e).concat(n))},t.prototype._parseShortOne=function(t,e,n,r){if("h"==e)return this._parseHelp(t,"-".concat(e),n);var o=t.find(e,!0);if(!o){if(r.unknowFlags)return 1;throw new s("unknown flag in ".concat(t.use,": -").concat(e))}if(o.isBool()&&"false"!==n&&"true"!==n&&(n=void 0),o.add(n))return void 0===n?0:1;this._throw(t,o,"-".concat(e),n)},t.prototype._parseShort2=function(t,e,n,r){if("h"==e){var o=this._parseHelp(t,"-h",n);return-1==o?o:0}var a=t.find(e,!0);if(!a){if(r.unknowFlags)return 0;throw new s("unknown flag in ".concat(t.use,": -").concat(e))}if(a.add(n))return 0;this._throw(t,a,"-".concat(e),n)},t.prototype._parseShort=function(t,e,n,r){switch(e.length){case 0:if(r.unknowFlags)return 0;throw new s("unknown flag in ".concat(t.use,": -").concat(e));case 1:return this._parseShortOne(t,e,n,r)}if("="==e[1])return this._parseShort2(t,e[0],e.substring(2),r);var o=e[0],a=t.find(o,!0);if(!a){if(r.unknowFlags)return 0;throw new s("unknown flag in ".concat(t.use,": -").concat(o))}if(!a.isBool())return this._parseShort2(t,e[0],e.substring(1),r);if(a.add(void 0))return this._parseShort(t,e.substring(1),n,r);throw new s("invalid flag value in ".concat(t.use,": ").concat(o))},t.prototype._parseLong=function(t,e,n,r){var o,a=e.indexOf("="),i=!1;-1==a?(o=e,i=!0):(o=e.substring(0,a),n=e.substring(a+1));var c=t.find(o);if(!c){if(r.unknowFlags)return i?1:0;throw new s("unknown flag in ".concat(t.use,": --").concat(o))}if(i&&c.isBool()&&"false"!==n&&"true"!==n&&(i=!1,n=void 0),c.add(n))return i?1:0;this._throw(t,c,"--".concat(o),n)},t.prototype._print=function(){console.log(this.toString())},t.prototype.toString=function(){var t,e,n,r,a,i,s,c,u,l,d,p=this.opts,v=this.flags().use,h=new Array,y=null!==(u=p.long)&&void 0!==u?u:"",g=null!==(l=p.short)&&void 0!==l?l:"";""==y?""!=g&&h.push(g):h.push(y),0==h.length?h.push("Usage:"):h.push("\nUsage:"),h.push("  ".concat(v," [flags]"));var P=this.children_;if(P){h.push("  ".concat(v," [command]\n\nAvailable Commands:"));var I=new Array,w=0;try{for(var b=o(P.values()),m=b.next();!m.done;m=b.next()){var _=m.value,k=null!==(d=_.opts.use.length)&&void 0!==d?d:0;k>w&&(w=k),I.push(_)}}catch(e){t={error:e}}finally{try{m&&!m.done&&(e=b.return)&&e.call(b)}finally{if(t)throw t.error}}(w+=3)<8&&(w=8),I.sort((function(t,e){return f(t.opts.use,e.opts.use)}));try{for(var x=o(I),M=x.next();!M.done;M=x.next()){var O=M.value.opts;h.push("  ".concat(O.use.padEnd(w)).concat(O.short))}}catch(t){n={error:t}}finally{try{M&&!M.done&&(r=x.return)&&r.call(x)}finally{if(n)throw n.error}}}var A=this.flags(),N=1,S=4;try{for(var j=o(A),T=j.next();!T.done;T=j.next())N<(E=T.value).short.length&&(N=E.short.length),S<E.name.length&&(S=E.name.length)}catch(t){a={error:t}}finally{try{T&&!T.done&&(i=j.return)&&i.call(j)}finally{if(a)throw a.error}}S<8&&(S=8),h.push("\nFlags:\n  -".concat("h".padEnd(N),", --").concat("help".padEnd(S),"   help for ").concat(p.use));try{for(var L=o(A),D=L.next();!D.done;D=L.next()){var E=D.value,F="",q=E.defaultString();""!=q&&(F+=" "+q),""!=(q=E.valuesString())&&(F+=" "+q),""==E.short?h.push("   ".concat("".padEnd(N),"  --").concat(E.name.toString().padEnd(S),"   ").concat(E.usage).concat(F)):h.push("  -".concat(E.short.toString().padEnd(N),", --").concat(E.name.toString().padEnd(S),"   ").concat(E.usage).concat(F))}}catch(t){s={error:t}}finally{try{D&&!D.done&&(c=L.return)&&c.call(L)}finally{if(s)throw s.error}}return P&&h.push('\nUse "'.concat(v,' [command] --help" for more information about a command.')),h.join("\n")},t.prototype.print=function(){console.log(this.toString())},t.prototype.parent=function(){return this.parent_},t}();e.Command=d;var p=function(){function t(t){this.cmd=t}return t.make=function(e){return new t(e)},Object.defineProperty(t.prototype,"use",{get:function(){for(var t=this.cmd,e=t.parent(),n=t.opts.use;e;)n="".concat(e.opts.use," ").concat(n),e=e.parent();return n},enumerable:!1,configurable:!0}),t.prototype.find=function(t,e){var n,r;return void 0===e&&(e=!1),e?null===(n=this.short_)||void 0===n?void 0:n.get(t):null===(r=this.long_)||void 0===r?void 0:r.get(t)},t.prototype._getArrs=function(){var t,e,n=this.long_;if(n){var r=this.arrs_;if(!r||r.length!=n.size){r=[];try{for(var a=o(n.values()),i=a.next();!i.done;i=a.next()){var s=i.value;r.push(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}r.sort((function(t,e){return f(t.name,e.name)}))}return r}},t.prototype.iterator=function(){var t=this._getArrs(),e=0;return{next:function(){return t&&e<t.length?{value:t[e++]}:{done:!0}}}},t.prototype[Symbol.iterator]=function(){return this.iterator()},t.prototype.reset=function(){var t;null===(t=this.long_)||void 0===t||t.forEach((function(t){t.reset()}))},t.prototype.add=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(0!=n.length){var a=this.long_;a||(a=new Map,this.long_=a);var i=this.short_;i||(i=new Map,this.short_=i);try{for(var c=o(n),u=c.next();!u.done;u=c.next()){var f=u.value,d=f.name;if(a.has(d))throw new s("".concat(this.use," flag redefined: ").concat(d));var p=f.short;if(""!==p){var v=i.get(p);if(v)throw new s("unable to redefine '".concat(p,"' shorthand in \"").concat(this.use,'" flagset: it\'s already used for "').concat(v.name,'" flag'));if(!l(p))throw new s('"'.concat(p,'" shorthand in "').concat(this.use," is more than one ASCII character"));i.set(p,f)}a.set(d,f)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}}},t.prototype.string=function(t){var e=new y(t);return this.add(e),e},t.prototype.strings=function(t){var e=new g(t);return this.add(e),e},t.prototype.number=function(t){var e=new P(t);return this.add(e),e},t.prototype.numbers=function(t){var e=new I(t);return this.add(e),e},t.prototype.bigint=function(t){var e=new w(t);return this.add(e),e},t.prototype.bigints=function(t){var e=new b(t);return this.add(e),e},t.prototype.bool=function(t){var e=new _(t);return this.add(e),e},t.prototype.bools=function(t){var e=new k(t);return this.add(e),e},t}();e.Flags=p;var v=function(){function t(t){if(this.opts=t,void 0!==t.short&&""!==t.short&&!u.test(t.short))throw new s('"'.concat(t.short,'" shorthand should match "^[a-zA-Z0-9]$"'));if(!c.test(t.name))throw new s('"'.concat(t.name,'" flag should match "^[a-zA-Z][a-zA-Z0-9\\-_\\.]*$"'));if(void 0!==t.usage&&-1!=t.usage.indexOf("\n"))throw new s("flag usage invalid: ".concat(t.usage));if(Array.isArray(t.default)){var e=Array.from(t.default);this.value_=e}else this.value_=t.default}return Object.defineProperty(t.prototype,"value",{get:function(){return this.value_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"short",{get:function(){var t;return null!==(t=this.opts.short)&&void 0!==t?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.opts.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"default",{get:function(){return this.opts.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"usage",{get:function(){var t;return null!==(t=this.opts.usage)&&void 0!==t?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){return this.opts.values},enumerable:!1,configurable:!0}),t.prototype.isValid=function(t){var e,n,r,a;if("number"==typeof t&&!isFinite(t))return!1;if(Array.isArray(t))try{for(var i=o(t),s=i.next();!s.done;s=i.next()){var c=s.value;if("number"==typeof c&&!isFinite(c))return!1}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}var u=this.opts,l=u.values;if(l&&0!=l.length){try{for(var f=o(l),d=f.next();!d.done;d=f.next()){var p=d.value;if(this._equal(t,p))return!0}}catch(t){r={error:t}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}var v=u.isValid;return!!v&&v(t)}var h=u.isValid;return!h||h(t)},t.prototype._equal=function(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1}return t===e},t.prototype.reset=function(){var t=this.opts.default;if(Array.isArray(t)){var e=this.value_;if(Array.isArray(e))return e.splice(0),void e.push.apply(e,i([],a(t),!1))}this.value_=this.opts.default},t.prototype.defaultString=function(){var t=this.opts.default;if(Array.isArray(t)){if(0!=t.length)return"(default ".concat(JSON.stringify(t),")")}else if("string"==typeof t){if(""!=t)return"(default ".concat(JSON.stringify(t),")")}else if("boolean"==typeof t){if(t)return"(default ".concat(t,")")}else if("number"==typeof t){if(0!=t)return"(default ".concat(t,")")}else if("bigint"==typeof t&&t!=BigInt(0))return"(default ".concat(t,")");return""},t.prototype.valuesString=function(){var t=this.opts.values;return t&&0!=t.length?"(values ".concat(JSON.stringify(t),")"):""},t.prototype.add=function(t){return!1},t.prototype.isBool=function(){return!1},t}();function h(t,e){return void 0!==t.default?t:{name:t.name,default:e,short:t.short,usage:t.usage,values:t.values,isValid:t.isValid}}e.FlagBase=v;var y=function(t){function e(e){return t.call(this,h(e,""))||this}return r(e,t),e.prototype.add=function(t){return!(void 0===t||!this.isValid(t)||(this.value_=t,0))},e}(v);e.FlagString=y;var g=function(t){function e(e){return t.call(this,h(e,[]))||this}return r(e,t),e.prototype.add=function(t){return!(void 0===t||!this.isValid([t])||(this.value_.push(t),0))},e}(v);e.FlagStrings=g;var P=function(t){function e(e){return t.call(this,h(e,0))||this}return r(e,t),e.prototype.add=function(t){if(void 0===t)return!1;var e=parseInt(t);return!!this.isValid(e)&&(this.value_=e,!0)},e}(v);e.FlagNumber=P;var I=function(t){function e(e){return t.call(this,h(e,[]))||this}return r(e,t),e.prototype.add=function(t){if(void 0===t)return!1;var e=parseInt(t);return!!this.isValid([e])&&(this.value_.push(e),!0)},e}(v);e.FlagNumbers=I;var w=function(t){function e(e){return t.call(this,h(e,BigInt(0)))||this}return r(e,t),e.prototype.add=function(t){if(void 0===t)return!1;try{var e=BigInt(t);return!!this.isValid(e)&&(this.value_=e,!0)}catch(t){return!1}},e}(v);e.FlagBigint=w;var b=function(t){function e(e){return t.call(this,h(e,[]))||this}return r(e,t),e.prototype.add=function(t){if(void 0===t)return!1;try{var e=BigInt(t);return!!this.isValid([e])&&(this.value_.push(e),!0)}catch(t){return!1}},e}(v);function m(t){return void 0===t||"true"===t||"false"!==t&&void 0}e.FlagBigints=b;var _=function(t){function e(e){return t.call(this,h(e,!1))||this}return r(e,t),e.prototype.isBool=function(){return!0},e.prototype.add=function(t){var e=m(t);return!(void 0===e||!this.isValid(e)||(this.value_=e,0))},e}(v);e.FlagBoolean=_;var k=function(t){function e(e){return t.call(this,h(e,[]))||this}return r(e,t),e.prototype.isBool=function(){return!0},e.prototype.add=function(t){var e=m(t);return!(void 0===e||!this.isValid([e])||(this.value_.push(e),0))},e}(v);e.FlagBooleans=k;var x=function(){function t(t){this.root=t;var e=t.opts,n=e.prepare;if(n){var r=n(t.flags(),t);r&&(e.run=r)}}return t.prototype.parse=function(t,e){this.root.parse(t,e)},t}();e.Parser=x},686:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.command=void 0;var r=n(711),o=n(873);n(500),e.command=new r.Command({use:"test",short:"unit test",prepare:function(t,e){var n=t.strings({name:"module",short:"m",usage:"test module match"}),r=t.strings({name:"func",short:"f",usage:"test func match"}),a=t.bool({name:"fail",short:"F",usage:"Ignore the failure and continue with the unfinished test"});return function(){(0,o.run)(n.value,r.value,a.value)}}})},873:function(t,e){var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{c(r.next(t))}catch(t){a(t)}}function s(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,s)}c((r=r.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.run=e.test=e.Test=e.Module=e.Assert=void 0;var s=function(){function t(){this.keys_=new Map,this.arrs_=new Array}return t.prototype.get=function(t){return this.keys_.get(t)},t.prototype.put=function(t,e){if(this.keys_.has(t))throw new Error("key already exists: ".concat(t));this.keys_.set(t,e),this.arrs_.push(t)},t.prototype.keys=function(){return this.arrs_},t}(),c=new function(){},u=function(){function t(t,e){this.module=t,this.name=e}return t.prototype.equal=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=JSON.stringify(t),s=JSON.stringify(e);if(i!=s){console.log("--- FAIL: ".concat(this.name)),console.log("  Error: not equal"),console.log("  Expect:",i),console.log("  Actual:",s),0!=n.length&&console.log.apply(console,a(["  Message:"],o(n),!1));var u=(new Error).stack;throw"string"==typeof u&&console.log("  Stack:",u),c}},t.prototype.notEqual=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=JSON.stringify(t),s=JSON.stringify(e);if(i==s){console.log("--- FAIL: ".concat(this.name)),console.log("  Error: equal"),console.log("  Expect not:",i),console.log("  Actual:",s),0!=n.length&&console.log.apply(console,a(["  Message:"],o(n),!1));var u=(new Error).stack;throw"string"==typeof u&&console.log("  Stack:",u),c}},t.prototype.true=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!t){console.log("--- FAIL: ".concat(this.name)),console.log("  Error: not equal"),console.log("  Expect:",!0),console.log("  Actual:",t),0!=e.length&&console.log.apply(console,a(["  Message:"],o(e),!1));var r=(new Error).stack;throw"string"==typeof r&&console.log("  Stack:",r),c}},t}();e.Assert=u;var l=function(){function t(t){this.name=t,this.keys_=new s}return t.prototype.test=function(t,e){this.keys_.put(t,e)},t.prototype.run=function(t,e){return n(this,void 0,void 0,(function(){var e,n,o,a,s,l,f,d,p,v,h,y,g,P,I,w,b,m,_,k;return r(this,(function(r){switch(r.label){case 0:e=Date.now(),n=0,o=0,a=!1,s=!0,r.label=1;case 1:r.trys.push([1,8,9,10]),l=i(this.keys_.keys()),f=l.next(),r.label=2;case 2:if(f.done)return[3,7];if(d=f.value,0!=t.length){a=!1;try{for(_=void 0,p=i(t),v=p.next();!v.done;v=p.next())if(v.value.match(d)){a=!0;break}}catch(t){_={error:t}}finally{try{v&&!v.done&&(k=p.return)&&k.call(p)}finally{if(_)throw _.error}}if(!a)return[3,6]}s&&(s=!1,console.log(this.name)),h=this.keys_.get(d),y=new u(this.name,d),g=Date.now(),r.label=3;case 3:return r.trys.push([3,5,,6]),[4,h(y)];case 4:return r.sent(),w=(Date.now()-g)/1e3,console.log(" - ".concat(d," passed, used ").concat(w,"s")),n++,[3,6];case 5:return P=r.sent(),w=(Date.now()-g)/1e3,P!==c&&console.trace("".concat(P)),console.log(" - ".concat(d," failed, used ").concat(w,"s")),o++,[3,6];case 6:return f=l.next(),[3,2];case 7:return[3,10];case 8:return I=r.sent(),b={error:I},[3,10];case 9:try{f&&!f.done&&(m=l.return)&&m.call(l)}finally{if(b)throw b.error}return[7];case 10:return(n||o)&&(w=(Date.now()-e)/1e3,console.log(" * ".concat(n," passed, ").concat(o," failed, used ").concat(w,"s"))),[2,[n,o]]}}))}))},t}();e.Module=l;var f=function(){function t(){this.keys_=new s}return t.prototype.keys=function(){return this.keys_},t.prototype.module=function(t){var e=this.keys_.get(t);return e||(e=new l(t),this.keys_.put(t,e),e)},t}();e.Test=f,e.test=new f,e.run=function(t,a,s){return n(this,void 0,void 0,(function(){var n,c,u,l,f,d,p,v,h,y,g,P,I,w,b,m,_,k,x,M;return r(this,(function(r){switch(r.label){case 0:n=Date.now(),c=0,u=0,l=0,f=e.test.keys(),d=!1,r.label=1;case 1:r.trys.push([1,6,7,8]),p=i(f.keys()),v=p.next(),r.label=2;case 2:if(v.done)return[3,5];if(h=v.value,0!=t.length){d=!1;try{for(x=void 0,y=i(t),g=y.next();!g.done;g=y.next())if(g.value.match(h)){d=!0;break}}catch(t){x={error:t}}finally{try{g&&!g.done&&(M=y.return)&&M.call(y)}finally{if(x)throw x.error}}if(!d)return[3,4]}return[4,f.get(h).run(a,s)];case 3:if(P=o.apply(void 0,[r.sent(),2]),I=P[0],w=P[1],!I&&!w)return[3,4];if(c++,u+=I,l+=w,!s&&w)return[3,5];r.label=4;case 4:return v=p.next(),[3,2];case 5:return[3,8];case 6:return b=r.sent(),_={error:b},[3,8];case 7:try{v&&!v.done&&(k=p.return)&&k.call(p)}finally{if(_)throw _.error}return[7];case 8:return m=(Date.now()-n)/1e3,console.log("test ".concat(c," modules, ").concat(u," passed, ").concat(l," failed, used ").concat(m,"s")),l>0&&ejs.exit(1),[2]}}))}))}},124:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},c=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0});var u=n(808),l=n(873),f=a(n(808)),d=void 0;function p(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new u.IP(new Uint8Array(t))}function v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new u.IPMask(new Uint8Array(t))}var h=l.test.module("ejs/net");h.test("IP.parse",(function(t){var e,n,r,o=[["127.0.1.2",u.IP.v4(127,0,1,2)],["127.0.0.1",u.IP.v4(127,0,0,1)],["::ffff:127.1.2.3",u.IP.v4(127,1,2,3)],["::ffff:7f01:0203",u.IP.v4(127,1,2,3)],["0:0:0:0:0000:ffff:127.1.2.3",u.IP.v4(127,1,2,3)],["0:0:0:0:000000:ffff:127.1.2.3",u.IP.v4(127,1,2,3)],["0:0:0:0::ffff:127.1.2.3",u.IP.v4(127,1,2,3)],["2001:4860:0:2001::68",p(32,1,72,96,0,0,32,1,0,0,0,0,0,0,0,104)],["2001:4860:0000:2001:0000:0000:0000:0068",p(32,1,72,96,0,0,32,1,0,0,0,0,0,0,0,104)],["-0.0.0.0",d],["0.-1.0.0",d],["0.0.-2.0",d],["0.0.0.-3",d],["127.0.0.256",d],["abc",d],["123:",d],["fe80::1%lo0",d],["fe80::1%911",d],["",d],["a1:a2:a3:a4::b1:b2:b3:b4",d],["127.001.002.003",d],["::ffff:127.001.002.003",d],["123.000.000.000",d],["1.2..4",d],["0123.0.0.1",d]];try{for(var a=i(o),s=a.next();!s.done;s=a.next()){var c=s.value,l=u.IP.parse(c[0]);t.equal(null==l?void 0:l.ip,null===(r=c[1])||void 0===r?void 0:r.ip)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}})),h.test("IP.toString",(function(t){var e,n;function r(t,e,n,r){var o;return t instanceof u.IP?o=t:Array.isArray(t)&&(o=p.apply(void 0,c([],s(t),!1))),{in:o,str:e,byt:n?(new TextEncoder).encode(n):void 0,error:r}}var o=[r([192,0,2,1],"192.0.2.1","192.0.2.1",d),r([0,0,0,0],"0.0.0.0","0.0.0.0",d),r([0,0,0,0,0,0,0,0,0,0,255,255,192,0,2,1],"192.0.2.1","192.0.2.1",d),r([0,0,0,0,0,0,0,0,0,0,255,255,0,0,0,0],"0.0.0.0","0.0.0.0",d),r([32,1,13,184,0,0,0,0,0,0,1,35,0,18,0,1],"2001:db8::123:12:1","2001:db8::123:12:1",d),r([32,1,13,184,0,0,0,0,0,0,0,0,0,0,0,1],"2001:db8::1","2001:db8::1",d),r([32,1,13,184,0,0,0,1,0,0,0,1,0,0,0,1],"2001:db8:0:1:0:1:0:1","2001:db8:0:1:0:1:0:1",d),r([32,1,13,184,0,1,0,0,0,1,0,0,0,1,0,0],"2001:db8:1:0:1:0:1:0","2001:db8:1:0:1:0:1:0",d),r([32,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1],"2001::1:0:0:1","2001::1:0:0:1",d),r([32,1,13,184,0,0,0,0,0,1,0,0,0,0,0,0],"2001:db8:0:0:1::","2001:db8:0:0:1::",d),r([32,1,13,184,0,0,0,0,0,1,0,0,0,0,0,1],"2001:db8::1:0:0:1","2001:db8::1:0:0:1",d),r([32,1,13,184,0,0,0,0,0,10,0,11,0,12,0,13],"2001:db8::a:b:c:d","2001:db8::a:b:c:d",d),r(u.IP.v6unspecified,"::","::",d),r(d,"<undefined>",d,d),r([1,35,69,103,137,171,205,239],"?0123456789abcdef",d,"invalid IP address")];try{for(var a=i(o),l=a.next();!l.done;l=a.next()){var f=l.value;if(void 0===f.in)t.equal("<undefined>",f.str),t.equal(void 0,f.byt);else{var v=f.in.toString();t.equal(v,f.str)}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}})),h.test("IPMask",(function(t){var e,n;function r(t,e,n){return{in:t,mask:e,out:n}}var o=[r(u.IP.v4(192,168,1,127),u.IPMask.v4(255,255,255,128),u.IP.v4(192,168,1,0)),r(u.IP.v4(192,168,1,127),new u.IPMask(u.IP.parse("255.255.255.192").ip),u.IP.v4(192,168,1,64)),r(u.IP.v4(192,168,1,127),new u.IPMask(u.IP.parse("ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffe0").ip),u.IP.v4(192,168,1,96)),r(u.IP.v4(192,168,1,127),u.IPMask.v4(255,0,255,0),u.IP.v4(192,0,1,0)),r(u.IP.parse("2001:db8::1"),new u.IPMask(u.IP.parse("ffff:ff80::").ip),u.IP.parse("2001:d80::")),r(u.IP.parse("2001:db8::1"),new u.IPMask(u.IP.parse("f0f0:0f0f::").ip),u.IP.parse("2000:d08::"))];try{for(var a=i(o),s=a.next();!s.done;s=a.next()){var c=s.value,l=c.in.mask(c.mask);t.true(void 0===l||c.out.equal(l))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}})),h.test("IPMask.toString",(function(t){var e,n;function r(t,e){return{in:t,out:e}}var o=[r(u.IPMask.v4(255,255,255,240),"fffffff0"),r(u.IPMask.v4(255,0,128,0),"ff008000"),r(new u.IPMask(u.IP.parse("ffff:ff80::").ip),"ffffff80000000000000000000000000"),r(new u.IPMask(u.IP.parse("ef00:ff80::cafe:0").ip),"ef00ff800000000000000000cafe0000")];try{for(var a=i(o),s=a.next();!s.done;s=a.next()){var c=s.value;t.equal(c.in.toString(),c.out)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}})),h.test("parseCIDR",(function(t){var e,n,r;function o(t,e,n,r){return{in:t,ip:e,net:n,err:r}}var a=[o("135.104.0.0/32",u.IP.v4(135,104,0,0),new u.IPNet(u.IP.v4(135,104,0,0),u.IPMask.v4(255,255,255,255)),d),o("0.0.0.0/24",u.IP.v4(0,0,0,0),new u.IPNet(u.IP.v4(0,0,0,0),u.IPMask.v4(255,255,255,0)),d),o("135.104.0.0/24",u.IP.v4(135,104,0,0),new u.IPNet(u.IP.v4(135,104,0,0),u.IPMask.v4(255,255,255,0)),d),o("135.104.0.1/32",u.IP.v4(135,104,0,1),new u.IPNet(u.IP.v4(135,104,0,1),u.IPMask.v4(255,255,255,255)),d),o("135.104.0.1/24",u.IP.v4(135,104,0,1),new u.IPNet(u.IP.v4(135,104,0,0),u.IPMask.v4(255,255,255,0)),d),o("::1/128",u.IP.parse("::1"),new u.IPNet(u.IP.parse("::1"),new u.IPMask(u.IP.parse("ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff").ip)),d),o("abcd:2345::/127",u.IP.parse("abcd:2345::"),new u.IPNet(u.IP.parse("abcd:2345::"),new u.IPMask(u.IP.parse("ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe").ip)),d),o("abcd:2345::/65",u.IP.parse("abcd:2345::"),new u.IPNet(u.IP.parse("abcd:2345::"),new u.IPMask(u.IP.parse("ffff:ffff:ffff:ffff:8000::").ip)),d),o("abcd:2345::/64",u.IP.parse("abcd:2345::"),new u.IPNet(u.IP.parse("abcd:2345::"),new u.IPMask(u.IP.parse("ffff:ffff:ffff:ffff::").ip)),d),o("abcd:2345::/63",u.IP.parse("abcd:2345::"),new u.IPNet(u.IP.parse("abcd:2345::"),new u.IPMask(u.IP.parse("ffff:ffff:ffff:fffe::").ip)),d),o("abcd:2345::/33",u.IP.parse("abcd:2345::"),new u.IPNet(u.IP.parse("abcd:2345::"),new u.IPMask(u.IP.parse("ffff:ffff:8000::").ip)),d),o("abcd:2345::/32",u.IP.parse("abcd:2345::"),new u.IPNet(u.IP.parse("abcd:2345::"),new u.IPMask(u.IP.parse("ffff:ffff::").ip)),d),o("abcd:2344::/31",u.IP.parse("abcd:2344::"),new u.IPNet(u.IP.parse("abcd:2344::"),new u.IPMask(u.IP.parse("ffff:fffe::").ip)),d),o("abcd:2300::/24",u.IP.parse("abcd:2300::"),new u.IPNet(u.IP.parse("abcd:2300::"),new u.IPMask(u.IP.parse("ffff:ff00::").ip)),d),o("abcd:2345::/24",u.IP.parse("abcd:2345::"),new u.IPNet(u.IP.parse("abcd:2300::"),new u.IPMask(u.IP.parse("ffff:ff00::").ip)),d),o("2001:DB8::/48",u.IP.parse("2001:DB8::"),new u.IPNet(u.IP.parse("2001:DB8::"),new u.IPMask(u.IP.parse("ffff:ffff:ffff::").ip)),d),o("2001:DB8::1/48",u.IP.parse("2001:DB8::1"),new u.IPNet(u.IP.parse("2001:DB8::"),new u.IPMask(u.IP.parse("ffff:ffff:ffff::").ip)),d),o("192.168.1.1/255.255.255.0",d,d,{Type:"CIDR address",Text:"192.168.1.1/255.255.255.0"}),o("192.168.1.1/35",d,d,{Type:"CIDR address",Text:"192.168.1.1/35"}),o("2001:db8::1/-1",d,d,{Type:"CIDR address",Text:"2001:db8::1/-1"}),o("2001:db8::1/-0",d,d,{Type:"CIDR address",Text:"2001:db8::1/-0"}),o("-0.0.0.0/32",d,d,{Type:"CIDR address",Text:"-0.0.0.0/32"}),o("0.-1.0.0/32",d,d,{Type:"CIDR address",Text:"0.-1.0.0/32"}),o("0.0.-2.0/32",d,d,{Type:"CIDR address",Text:"0.0.-2.0/32"}),o("0.0.0.-3/32",d,d,{Type:"CIDR address",Text:"0.0.0.-3/32"}),o("0.0.0.0/-0",d,d,{Type:"CIDR address",Text:"0.0.0.0/-0"}),o("127.000.000.001/32",d,d,{Type:"CIDR address",Text:"127.000.000.001/32"}),o("",d,d,{Type:"CIDR address",Text:""})];try{for(var c=i(a),l=c.next();!l.done;l=c.next()){var f=l.value,p=void 0,v=void 0,h=(0,u.parseCIDR)(f.in);f.err?t.equal(h,void 0):t.notEqual(h,void 0),h&&(p=(r=s(h,2))[0],v=r[1],t.true(f.ip.equal(p)),t.true(f.net.ip.equal(v.ip)),t.equal(f.net.mask,v.mask))}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}})),h.test("IPAddrFamily",(function(t){var e,n;function r(t,e,n){return{in:t,af4:e,af6:n}}var o=[r(u.IP.v4bcast,!0,!1),r(u.IP.v4allsys,!0,!1),r(u.IP.v4allrouter,!0,!1),r(u.IP.v4zero,!0,!1),r(u.IP.v4(224,0,0,1),!0,!1),r(u.IP.v4(127,0,0,1),!0,!1),r(u.IP.v4(240,0,0,1),!0,!1),r(u.IP.v6unspecified,!1,!0),r(u.IP.v6loopback,!1,!0),r(u.IP.v6interfacelocalallnodes,!1,!0),r(u.IP.v6linklocalallnodes,!1,!0),r(u.IP.v6linklocalallrouters,!1,!0),r(u.IP.parse("ff05::a:b:c:d"),!1,!0),r(u.IP.parse("fe80::1:2:3:4"),!1,!0),r(u.IP.parse("2001:db8::123:12:1"),!1,!0)];try{for(var a=i(o),s=a.next();!s.done;s=a.next()){var c=s.value,l=void 0!==c.in.to4();t.equal(l,c.af4),l=c.in.length==u.IPv6len&&void 0===c.in.to4(),t.equal(l,c.af6,"".concat(c.in))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}})),h.test("IPAddrScope",(function(t){var e,n,r=new u.IP(new Uint8Array);function o(t,e,n){return{scope:t,in:null!=e?e:r,ok:n}}var a=[o((function(t){return t.isUnspecified}),u.IP.v4zero,!0),o((function(t){return t.isUnspecified}),u.IP.v4(127,0,0,1),!1),o((function(t){return t.isUnspecified}),u.IP.v6unspecified,!0),o((function(t){return t.isUnspecified}),u.IP.v6interfacelocalallnodes,!1),o((function(t){return t.isUnspecified}),d,!1),o((function(t){return t.isLoopback}),u.IP.v4(127,0,0,1),!0),o((function(t){return t.isLoopback}),u.IP.v4(127,255,255,254),!0),o((function(t){return t.isLoopback}),u.IP.v4(128,1,2,3),!1),o((function(t){return t.isLoopback}),u.IP.v6loopback,!0),o((function(t){return t.isLoopback}),u.IP.v6linklocalallrouters,!1),o((function(t){return t.isLoopback}),d,!1),o((function(t){return t.isMulticast}),u.IP.v4(224,0,0,0),!0),o((function(t){return t.isMulticast}),u.IP.v4(239,0,0,0),!0),o((function(t){return t.isMulticast}),u.IP.v4(240,0,0,0),!1),o((function(t){return t.isMulticast}),u.IP.v6linklocalallnodes,!0),o((function(t){return t.isMulticast}),p(255,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0),!0),o((function(t){return t.isMulticast}),p(254,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0),!1),o((function(t){return t.isMulticast}),d,!1),o((function(t){return t.isInterfaceLocalMulticast}),u.IP.v4(224,0,0,0),!1),o((function(t){return t.isInterfaceLocalMulticast}),u.IP.v4(255,1,0,0),!1),o((function(t){return t.isInterfaceLocalMulticast}),u.IP.v6interfacelocalallnodes,!0),o((function(t){return t.isInterfaceLocalMulticast}),d,!1),o((function(t){return t.isLinkLocalMulticast}),u.IP.v4(224,0,0,0),!0),o((function(t){return t.isLinkLocalMulticast}),u.IP.v4(239,0,0,0),!1),o((function(t){return t.isLinkLocalMulticast}),u.IP.v4(255,2,0,0),!1),o((function(t){return t.isLinkLocalMulticast}),u.IP.v6linklocalallrouters,!0),o((function(t){return t.isLinkLocalMulticast}),p(255,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0),!1),o((function(t){return t.isLinkLocalMulticast}),d,!1),o((function(t){return t.isLinkLocalUnicast}),u.IP.v4(169,254,0,0),!0),o((function(t){return t.isLinkLocalUnicast}),u.IP.v4(169,255,0,0),!1),o((function(t){return t.isLinkLocalUnicast}),u.IP.v4(254,128,0,0),!1),o((function(t){return t.isLinkLocalUnicast}),p(254,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0),!0),o((function(t){return t.isLinkLocalUnicast}),p(254,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0),!1),o((function(t){return t.isLinkLocalUnicast}),d,!1),o((function(t){return t.isGlobalUnicast}),u.IP.v4(240,0,0,0),!0),o((function(t){return t.isGlobalUnicast}),u.IP.v4(232,0,0,0),!1),o((function(t){return t.isGlobalUnicast}),u.IP.v4(169,254,0,0),!1),o((function(t){return t.isGlobalUnicast}),u.IP.v4bcast,!1),o((function(t){return t.isGlobalUnicast}),p(32,1,13,184,0,0,0,0,0,0,1,35,0,18,0,1),!0),o((function(t){return t.isGlobalUnicast}),p(254,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0),!1),o((function(t){return t.isGlobalUnicast}),p(255,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0),!1),o((function(t){return t.isGlobalUnicast}),d,!1),o((function(t){return t.isPrivate}),d,!1),o((function(t){return t.isPrivate}),u.IP.v4(1,1,1,1),!1),o((function(t){return t.isPrivate}),u.IP.v4(9,255,255,255),!1),o((function(t){return t.isPrivate}),u.IP.v4(10,0,0,0),!0),o((function(t){return t.isPrivate}),u.IP.v4(10,255,255,255),!0),o((function(t){return t.isPrivate}),u.IP.v4(11,0,0,0),!1),o((function(t){return t.isPrivate}),u.IP.v4(172,15,255,255),!1),o((function(t){return t.isPrivate}),u.IP.v4(172,16,0,0),!0),o((function(t){return t.isPrivate}),u.IP.v4(172,16,255,255),!0),o((function(t){return t.isPrivate}),u.IP.v4(172,23,18,255),!0),o((function(t){return t.isPrivate}),u.IP.v4(172,31,255,255),!0),o((function(t){return t.isPrivate}),u.IP.v4(172,31,0,0),!0),o((function(t){return t.isPrivate}),u.IP.v4(172,32,0,0),!1),o((function(t){return t.isPrivate}),u.IP.v4(192,167,255,255),!1),o((function(t){return t.isPrivate}),u.IP.v4(192,168,0,0),!0),o((function(t){return t.isPrivate}),u.IP.v4(192,168,255,255),!0),o((function(t){return t.isPrivate}),u.IP.v4(192,169,0,0),!1),o((function(t){return t.isPrivate}),p(251,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255),!1),o((function(t){return t.isPrivate}),p(252,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),!0),o((function(t){return t.isPrivate}),p(252,255,18,0,0,0,0,68,0,0,0,0,0,0,0,0),!0),o((function(t){return t.isPrivate}),p(253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255),!0),o((function(t){return t.isPrivate}),p(254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),!1)];try{for(var s=i(a),c=s.next();!c.done;c=s.next()){var l=c.value;t.equal(l.scope(l.in),l.ok,"".concat(l.in));var f=l.in.to4();f&&t.equal(l.scope(f),l.ok)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}})),h.test("joinHostPort",(function(t){var e,n;function r(t,e,n){return{host:t,port:e,hostPort:n}}var o=[r("localhost","http","localhost:http"),r("localhost","80","localhost:80"),r("localhost%lo0","http","localhost%lo0:http"),r("localhost%lo0","80","localhost%lo0:80"),r("127.0.0.1","http","127.0.0.1:http"),r("127.0.0.1","80","127.0.0.1:80"),r("::1","http","[::1]:http"),r("::1","80","[::1]:80"),r("::1%lo0","http","[::1%lo0]:http"),r("::1%lo0","80","[::1%lo0]:80"),r("","http",":http"),r("","80",":80"),r("golang.org","","golang.org:"),r("127.0.0.1","","127.0.0.1:"),r("::1","","[::1]:"),r("golang.org","https%foo","golang.org:https%foo")];try{for(var a=i(o),s=a.next();!s.done;s=a.next()){var c=s.value;t.equal((0,u.joinHostPort)(c.host,c.port),c.hostPort)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}})),h.test("splitHostPort",(function(t){var e,n,r,o;function a(t,e,n){return{host:e,port:n,hostPort:t}}var c=[a("localhost:http","localhost","http"),a("localhost:80","localhost","80"),a("localhost%lo0:http","localhost%lo0","http"),a("localhost%lo0:80","localhost%lo0","80"),a("[localhost%lo0]:http","localhost%lo0","http"),a("[localhost%lo0]:80","localhost%lo0","80"),a("127.0.0.1:http","127.0.0.1","http"),a("127.0.0.1:80","127.0.0.1","80"),a("[::1]:http","::1","http"),a("[::1]:80","::1","80"),a("[::1%lo0]:http","::1%lo0","http"),a("[::1%lo0]:80","::1%lo0","80"),a(":http","","http"),a(":80","","80"),a("golang.org:","golang.org",""),a("127.0.0.1:","127.0.0.1",""),a("[::1]:","::1",""),a("golang.org:https%foo","golang.org","https%foo")];try{for(var l=i(c),f=l.next();!f.done;f=l.next()){var d=f.value,p=s((0,u.splitHostPort)(d.hostPort),2),v=p[0],h=p[1];t.equal(v,d.host),t.equal(h,d.port)}}catch(t){e={error:t}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}function y(t,e){return{err:e,hostPort:t}}var g=[y("golang.org","missing port in address"),y("127.0.0.1","missing port in address"),y("[::1]","missing port in address"),y("[fe80::1%lo0]","missing port in address"),y("[localhost%lo0]","missing port in address"),y("localhost%lo0","missing port in address"),y("::1","too many colons in address"),y("fe80::1%lo0","too many colons in address"),y("fe80::1%lo0:80","too many colons in address"),y("[foo:bar]","missing port in address"),y("[foo:bar]baz","missing port in address"),y("[foo]bar:baz","missing port in address"),y("[foo]:[bar]:baz","too many colons in address"),y("[foo]:[bar]baz","unexpected '[' in address"),y("foo[bar]:baz","unexpected '[' in address"),y("foo]bar:baz","unexpected ']' in address")];try{for(var P=i(g),I=P.next();!I.done;I=P.next()){d=I.value;try{(0,u.splitHostPort)(d.hostPort),t.true(!1,d.hostPort)}catch(e){t.true(e instanceof u.AddrError),e instanceof u.AddrError&&t.equal(e.message,d.err)}}}catch(t){r={error:t}}finally{try{I&&!I.done&&(o=P.return)&&o.call(P)}finally{if(r)throw r.error}}})),h.test("IPMask.cidr",(function(t){var e,n;function r(t,e,n){return{ones:t,bits:e,out:n}}var o=[r(0,32,u.IPMask.v4(0,0,0,0)),r(12,32,u.IPMask.v4(255,240,0,0)),r(24,32,u.IPMask.v4(255,255,255,0)),r(32,32,u.IPMask.v4(255,255,255,255)),r(0,128,v(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),r(4,128,v(240,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),r(48,128,v(255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0)),r(128,128,v(255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255)),r(33,32,d),r(32,33,d),r(-1,128,d),r(128,-1,d)];try{for(var a=i(o),s=a.next();!s.done;s=a.next()){var c=s.value;t.equal(u.IPMask.cidr(c.ones,c.bits),c.out)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}}));var y=p(192,168,0,1),g=p(0,0,0,0,0,0,0,0,0,0,255,255,192,168,0,1),P=p(32,1,13,184,0,0,0,0,0,0,1,35,0,18,0,1),I=v(255,255,255,0),w=v(255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0),b=v(255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,0),m=p(192,168,0),_=v(255,255,0),k=v(0,0,0,0);h.test("NetworkNumberAndMask",(function(t){var e,n;function r(t,e){return{in:t,out:e}}var o=[r(new u.IPNet(y,I),new u.IPNet(y,I)),r(new u.IPNet(y,w),new u.IPNet(y,I)),r(new u.IPNet(g,w),new u.IPNet(y,I)),r(new u.IPNet(g,b),new u.IPNet(y,k)),r(new u.IPNet(y,b),new u.IPNet(y,k)),r(new u.IPNet(P,b),new u.IPNet(P,b)),r(new u.IPNet(P,w),new u.IPNet(P,w)),r(new u.IPNet(P,I)),r(new u.IPNet(y,_)),r(new u.IPNet(g,_)),r(new u.IPNet(P,_)),r(new u.IPNet(m,I)),r(new u.IPNet(m,w)),r(new u.IPNet(m,b)),r(new u.IPNet(m,_))];try{for(var a=i(o),c=a.next();!c.done;c=a.next()){var l=c.value,d=f.networkNumberAndMask(l.in);if(d){var p=s(d,2),v=p[0],h=p[1];t.equal(l.out.ip,v),t.equal(l.out.mask,h)}else t.equal(l.out,d)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}})),h.test("IPNet.toString",(function(t){var e,n;function r(t,e){return{in:t,out:e}}var o=[r(new u.IPNet(u.IP.v4(192,168,1,0),u.IPMask.cidr(26,32)),"192.168.1.0/26"),r(new u.IPNet(u.IP.v4(192,168,1,0),u.IPMask.v4(255,0,255,0)),"192.168.1.0/ff00ff00"),r(new u.IPNet(u.IP.parse("2001:db8::"),u.IPMask.cidr(55,128)),"2001:db8::/55"),r(new u.IPNet(u.IP.parse("2001:db8::"),new u.IPMask(u.IP.parse("8000:f123:0:cafe::").ip)),"2001:db8::/8000f1230000cafe0000000000000000")];try{for(var a=i(o),s=a.next();!s.done;s=a.next()){var c=s.value;t.equal(c.out,c.in.toString())}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}})),h.test("IPNet.contains",(function(t){var e,n;function r(t,e,n){return{in:t,net:e,ok:n}}var o=[r(u.IP.v4(172,16,1,1),new u.IPNet(u.IP.v4(172,16,0,0),u.IPMask.cidr(12,32)),!0),r(u.IP.v4(172,24,0,1),new u.IPNet(u.IP.v4(172,16,0,0),u.IPMask.cidr(13,32)),!1),r(u.IP.v4(192,168,0,3),new u.IPNet(u.IP.v4(192,168,0,0),u.IPMask.v4(0,0,255,252)),!0),r(u.IP.v4(192,168,0,4),new u.IPNet(u.IP.v4(192,168,0,0),u.IPMask.v4(0,255,0,252)),!1),r(u.IP.parse("2001:db8:1:2::1"),new u.IPNet(u.IP.parse("2001:db8:1::"),u.IPMask.cidr(47,128)),!0),r(u.IP.parse("2001:db8:1:2::1"),new u.IPNet(u.IP.parse("2001:db8:2::"),u.IPMask.cidr(47,128)),!1),r(u.IP.parse("2001:db8:1:2::1"),new u.IPNet(u.IP.parse("2001:db8:1::"),new u.IPMask(u.IP.parse("ffff:0:ffff::").ip)),!0),r(u.IP.parse("2001:db8:1:2::1"),new u.IPNet(u.IP.parse("2001:db8:1::"),new u.IPMask(u.IP.parse("0:0:0:ffff::").ip)),!1)];try{for(var a=i(o),s=a.next();!s.done;s=a.next()){var c=s.value;t.equal(c.ok,c.net.contains(c.in),c.in.toString())}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}}))},500:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),n(124)},808:function(t){t.exports=require("ejs/net")}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}var r={};!function(){var t=r;Object.defineProperty(t,"__esModule",{value:!0});var e=n(711),o=n(686),a=n(255),i=n(535),s=n(475),c=n(403),u=n(519),l=new e.Command({use:"main.js",short:"iotjs example and test",run:function(t,e){e.print()}});l.add(o.command,a.command,i.command,s.command,c.command,u.command),new e.Parser(l).parse(ejs.args.slice(2))}();var o=exports;for(var a in r)o[a]=r[a];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})}();